{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import'./Navbar.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Navbar=()=>{const[isLoggedIn,setIsLoggedIn]=useState(false);const[userName,setUserName]=useState('');// New state for the user's name\nconst navigate=useNavigate();useEffect(()=>{const authToken=sessionStorage.getItem('auth-token');if(authToken){setIsLoggedIn(true);// Get the name from session storage and display it\nconst email=sessionStorage.getItem('email');// Extract the name from before the @ symbol\nconst name=email.split('@')[0];setUserName(name);}},[]);const handleLogout=()=>{sessionStorage.removeItem('auth-token');sessionStorage.removeItem('name');sessionStorage.removeItem('phone');sessionStorage.removeItem('email');setIsLoggedIn(false);setUserName('');navigate('/');window.location.reload();};return/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav__logo\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[\"StayHealthy\",/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",height:\"26\",width:\"26\",viewBox:\"0 0 1000 1000\",style:{fill:'#3685fb'},children:[/*#__PURE__*/_jsx(\"title\",{children:\"Doctor With Stethoscope SVG icon\"}),/*#__PURE__*/_jsx(\"g\",{children:/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"path\",{d:\"M499.8,10c91.7,0,166,74.3,166,166c0,91.7-74.3,166-166,166c-91.7,0-166-74.3-166-166C333.8,84.3,408.1,10,499.8,10z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M499.8,522.8c71.2,0,129.1-58.7,129.1-129.1H370.6C370.6,464.1,428.6,522.8,499.8,522.8z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M693.2,395c-0.7,94.9-70.3,173.7-160.8,188.9v155.9c0,80.3-60.7,150.8-140.8,155.3c-83,4.7-152.7-58.9-157.6-139.7c-22-12.8-35.6-38.5-30.3-66.7c4.7-25.1,25.5-45.6,50.8-49.9c39.7-6.7,74.1,23.7,74.1,62.1c0,23-12.3,43-30.7,54.1c4.7,45.4,45.1,80.4,92.6,76c44.6-4,77.2-44,77.2-88.7V583.9C622.9,568.7,692.5,490.1,693.2,395z\"})]})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"nav__icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-bars\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"nav__links active\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"link\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"link\",children:/*#__PURE__*/_jsx(Link,{to:\"/appointments\",children:\"Appointments\"})}),!isLoggedIn?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"link\",children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"btn1\",children:\"Sign Up\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"link\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn1\",children:\"Login\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"li\",{className:\"link welcome-user\",children:[\"Welcome, \",userName]}),/*#__PURE__*/_jsx(\"li\",{className:\"link\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"btn1\",children:\"Logout\"})})]})]})]});};export default Navbar;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Navbar","isLoggedIn","setIsLoggedIn","userName","setUserName","navigate","authToken","sessionStorage","getItem","email","name","split","handleLogout","removeItem","window","location","reload","children","className","to","xmlns","height","width","viewBox","style","fill","d","onClick"],"sources":["/home/project/test_med_app/src/Components/Navbar/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport './Navbar.css';\n\nconst Navbar = () => {\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n    const [userName, setUserName] = useState(''); // New state for the user's name\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const authToken = sessionStorage.getItem('auth-token');\n        if (authToken) {\n            setIsLoggedIn(true);\n            // Get the name from session storage and display it\n            const email = sessionStorage.getItem('email');\n            // Extract the name from before the @ symbol\n            const name = email.split('@')[0]; \n            setUserName(name);\n        }\n    }, []);\n\n    const handleLogout = () => {\n        sessionStorage.removeItem('auth-token');\n        sessionStorage.removeItem('name');\n        sessionStorage.removeItem('phone');\n        sessionStorage.removeItem('email');\n        setIsLoggedIn(false);\n        setUserName('');\n        navigate('/');\n        window.location.reload();\n    };\n\n    return (\n        <nav>\n            <div className=\"nav__logo\">\n                <Link to=\"/\">\n                    StayHealthy\n                    {/* SVG Icon */}\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"26\" width=\"26\" viewBox=\"0 0 1000 1000\" style={{ fill: '#3685fb' }}>\n                        <title>Doctor With Stethoscope SVG icon</title>\n                        <g><g>\n                            <path d=\"M499.8,10c91.7,0,166,74.3,166,166c0,91.7-74.3,166-166,166c-91.7,0-166-74.3-166-166C333.8,84.3,408.1,10,499.8,10z\" />\n                            <path d=\"M499.8,522.8c71.2,0,129.1-58.7,129.1-129.1H370.6C370.6,464.1,428.6,522.8,499.8,522.8z\" />\n                            <path d=\"M693.2,395c-0.7,94.9-70.3,173.7-160.8,188.9v155.9c0,80.3-60.7,150.8-140.8,155.3c-83,4.7-152.7-58.9-157.6-139.7c-22-12.8-35.6-38.5-30.3-66.7c4.7-25.1,25.5-45.6,50.8-49.9c39.7-6.7,74.1,23.7,74.1,62.1c0,23-12.3,43-30.7,54.1c4.7,45.4,45.1,80.4,92.6,76c44.6-4,77.2-44,77.2-88.7V583.9C622.9,568.7,692.5,490.1,693.2,395z\" />\n                        </g></g>\n                    </svg>\n                </Link>\n            </div>\n\n            <div className=\"nav__icon\">\n                <i className=\"fa fa-bars\"></i>\n            </div>\n\n            <ul className=\"nav__links active\">\n                <li className=\"link\"><Link to=\"/\">Home</Link></li>\n                <li className=\"link\"><Link to=\"/appointments\">Appointments</Link></li>\n\n                {!isLoggedIn ? (\n                    <>\n                        <li className=\"link\"><Link to=\"/signup\" className=\"btn1\">Sign Up</Link></li>\n                        <li className=\"link\"><Link to=\"/login\" className=\"btn1\">Login</Link></li>\n                    </>\n                ) : (\n                    <>\n                        {/* Welcome message is now displayed here */}\n                        <li className=\"link welcome-user\">Welcome, {userName}</li>\n                        <li className=\"link\">\n                            <button onClick={handleLogout} className=\"btn1\">Logout</button>\n                        </li>\n                    </>\n                )}\n            </ul>\n        </nav>\n    );\n};\n\nexport default Navbar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}