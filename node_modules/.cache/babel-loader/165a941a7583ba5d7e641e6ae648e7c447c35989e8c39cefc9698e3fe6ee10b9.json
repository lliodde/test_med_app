{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import'./Navbar.css';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=()=>{const[isLoggedIn,setIsLoggedIn]=useState(false);const[userName,setUserName]=useState('');const[dropdownVisible,setDropdownVisible]=useState(false);// State for dropdown visibility\nconst navigate=useNavigate();useEffect(()=>{const authToken=sessionStorage.getItem('auth-token');if(authToken){setIsLoggedIn(true);const email=sessionStorage.getItem('email');if(email){const name=email.split('@')[0];setUserName(name);}}},[]);const handleLogout=()=>{sessionStorage.clear();// Clear all session data on logout\nsetIsLoggedIn(false);setUserName('');navigate('/');window.location.reload();};return/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav__logo\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"StayHealthy\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"nav__links\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"link\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"link\",children:/*#__PURE__*/_jsx(Link,{to:\"/booking-consultation\",children:\"Appointments\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"link\",children:/*#__PURE__*/_jsx(Link,{to:\"/reviews\",children:\"Reviews\"})}),!isLoggedIn?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"link\",children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"btn1\",children:\"Sign Up\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"link\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn1\",children:\"Login\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"li\",{className:\"link\",onMouseLeave:()=>setDropdownVisible(false),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-user\",onMouseEnter:()=>setDropdownVisible(true),children:[\"Welcome, \",userName]}),dropdownVisible&&/*#__PURE__*/_jsxs(\"div\",{className:\"profile-dropdown\",children:[/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\"Your Profile\"}),/*#__PURE__*/_jsx(Link,{to:\"/reports\",children:\"Your Reports\"})]})]}),/*#__PURE__*/_jsx(\"li\",{className:\"link\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"btn1\",children:\"Logout\"})})]})]})]});};export default Navbar;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Navbar","isLoggedIn","setIsLoggedIn","userName","setUserName","dropdownVisible","setDropdownVisible","navigate","authToken","sessionStorage","getItem","email","name","split","handleLogout","clear","window","location","reload","children","className","to","onMouseLeave","onMouseEnter","onClick"],"sources":["/home/project/test_med_app/src/Components/Navbar/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport './Navbar.css';\n\nconst Navbar = () => {\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n    const [userName, setUserName] = useState('');\n    const [dropdownVisible, setDropdownVisible] = useState(false); // State for dropdown visibility\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const authToken = sessionStorage.getItem('auth-token');\n        if (authToken) {\n            setIsLoggedIn(true);\n            const email = sessionStorage.getItem('email');\n            if (email) {\n                const name = email.split('@')[0];\n                setUserName(name);\n            }\n        }\n    }, []);\n\n    const handleLogout = () => {\n        sessionStorage.clear(); // Clear all session data on logout\n        setIsLoggedIn(false);\n        setUserName('');\n        navigate('/');\n        window.location.reload();\n    };\n\n    return (\n        <nav>\n            {/* ... other navbar code ... */}\n            <div className=\"nav__logo\">\n                <Link to=\"/\">StayHealthy</Link>\n            </div>\n\n            <ul className=\"nav__links\">\n                <li className=\"link\"><Link to=\"/\">Home</Link></li>\n                <li className=\"link\"><Link to=\"/booking-consultation\">Appointments</Link></li>\n                <li className=\"link\"><Link to=\"/reviews\">Reviews</Link></li>\n\n                {!isLoggedIn ? (\n                    <>\n                        <li className=\"link\"><Link to=\"/signup\" className=\"btn1\">Sign Up</Link></li>\n                        <li className=\"link\"><Link to=\"/login\" className=\"btn1\">Login</Link></li>\n                    </>\n                ) : (\n                    <>\n                        {/* Make the welcome message a dropdown trigger */}\n                        <li className=\"link\" onMouseLeave={() => setDropdownVisible(false)}>\n                            <div \n                                className=\"welcome-user\" \n                                onMouseEnter={() => setDropdownVisible(true)}\n                            >\n                                Welcome, {userName}\n                            </div>\n                            {/* Conditionally render the dropdown menu */}\n                            {dropdownVisible && (\n                                <div className=\"profile-dropdown\">\n                                    <Link to=\"/profile\">Your Profile</Link>\n                                    <Link to=\"/reports\">Your Reports</Link>\n                                </div>\n                            )}\n                        </li>\n                        <li className=\"link\">\n                            <button onClick={handleLogout} className=\"btn1\">Logout</button>\n                        </li>\n                    </>\n                )}\n            </ul>\n        </nav>\n    );\n};\n\nexport default Navbar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}