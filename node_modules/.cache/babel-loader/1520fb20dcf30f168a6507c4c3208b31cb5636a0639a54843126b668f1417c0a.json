{"ast":null,"code":"import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{API_URL}from'../../config';import'./SignUp.css';// Corrected CSS import path\n// Component renamed to \"SignUp\" to follow PascalCase convention\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SignUp=()=>{// State variables to hold the form data\nconst[name,setName]=useState('');const[email,setEmail]=useState('');const[phone,setPhone]=useState('');const[password,setPassword]=useState('');const[showerr,setShowerr]=useState('');// State for showing error messages\nconst navigate=useNavigate();// Function to handle form submission\nconst register=async e=>{e.preventDefault();// Prevent page from reloading\n// Call the registration API\nconst response=await fetch(\"\".concat(API_URL,\"/api/auth/register\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name,email,password,phone})});const json=await response.json();if(json.authtoken){// If registration is successful, store the auth token and user details\nsessionStorage.setItem(\"auth-token\",json.authtoken);sessionStorage.setItem(\"name\",name);sessionStorage.setItem(\"phone\",phone);sessionStorage.setItem(\"email\",email);// Navigate to the home page and reload\nnavigate(\"/\");window.location.reload();}else{// Handle errors from the API\nif(json.errors){const errorMsg=json.errors.map(error=>error.msg).join(', ');setShowerr(errorMsg);}else{setShowerr(json.error);}}};return/*#__PURE__*/_jsx(\"div\",{className:\"signup-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"signup-form-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"sub-text\",children:[\"Already a member? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:register,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{value:name,onChange:e=>setName(e.target.value),type:\"text\",name:\"name\",id:\"name\",className:\"form-control\",placeholder:\"Enter your name\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{value:phone,onChange:e=>setPhone(e.target.value),type:\"tel\",name:\"phone\",id:\"phone\",className:\"form-control\",placeholder:\"Enter your phone number\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{value:email,onChange:e=>setEmail(e.target.value),type:\"email\",name:\"email\",id:\"email\",className:\"form-control\",placeholder:\"Enter your email\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{value:password,onChange:e=>setPassword(e.target.value),type:\"password\",name:\"password\",id:\"password\",className:\"form-control\",placeholder:\"Enter your password\",required:true})]}),showerr&&/*#__PURE__*/_jsx(\"div\",{className:\"err-msg\",children:showerr}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-submit\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"reset\",className:\"btn-reset\",children:\"Reset\"})]})]})]})});};// Export the \"SignUp\" component\nexport default SignUp;","map":{"version":3,"names":["React","useState","Link","useNavigate","API_URL","jsx","_jsx","jsxs","_jsxs","SignUp","name","setName","email","setEmail","phone","setPhone","password","setPassword","showerr","setShowerr","navigate","register","e","preventDefault","response","fetch","concat","method","headers","body","JSON","stringify","json","authtoken","sessionStorage","setItem","window","location","reload","errors","errorMsg","map","error","msg","join","className","children","to","onSubmit","htmlFor","value","onChange","target","type","id","placeholder","required"],"sources":["/home/project/test_med_app/src/Components/SignUp/SignUp.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { API_URL } from '../../config';\nimport './SignUp.css'; // Corrected CSS import path\n\n// Component renamed to \"SignUp\" to follow PascalCase convention\nconst SignUp = () => {\n    // State variables to hold the form data\n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n    const [phone, setPhone] = useState('');\n    const [password, setPassword] = useState('');\n    const [showerr, setShowerr] = useState(''); // State for showing error messages\n    const navigate = useNavigate();\n\n    // Function to handle form submission\n    const register = async (e) => {\n        e.preventDefault(); // Prevent page from reloading\n\n        // Call the registration API\n        const response = await fetch(`${API_URL}/api/auth/register`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({ name, email, password, phone }),\n        });\n\n        const json = await response.json();\n\n        if (json.authtoken) {\n            // If registration is successful, store the auth token and user details\n            sessionStorage.setItem(\"auth-token\", json.authtoken);\n            sessionStorage.setItem(\"name\", name);\n            sessionStorage.setItem(\"phone\", phone);\n            sessionStorage.setItem(\"email\", email);\n\n            // Navigate to the home page and reload\n            navigate(\"/\");\n            window.location.reload();\n        } else {\n            // Handle errors from the API\n            if (json.errors) {\n                const errorMsg = json.errors.map(error => error.msg).join(', ');\n                setShowerr(errorMsg);\n            } else {\n                setShowerr(json.error);\n            }\n        }\n    };\n\n    return (\n        <div className=\"signup-container\">\n            <div className=\"signup-form-container\">\n                <h1>Sign Up</h1>\n                <p className=\"sub-text\">\n                    Already a member? <Link to=\"/login\">Login</Link>\n                </p>\n\n                {/* The form now calls the 'register' function on submission */}\n                <form onSubmit={register}>\n                    {/* Name Input */}\n                    <div className=\"form-group\">\n                        <label htmlFor=\"name\">Name</label>\n                        <input value={name} onChange={(e) => setName(e.target.value)} type=\"text\" name=\"name\" id=\"name\" className=\"form-control\" placeholder=\"Enter your name\" required />\n                    </div>\n\n                    {/* Phone Input */}\n                    <div className=\"form-group\">\n                        <label htmlFor=\"phone\">Phone</label>\n                        <input value={phone} onChange={(e) => setPhone(e.target.value)} type=\"tel\" name=\"phone\" id=\"phone\" className=\"form-control\" placeholder=\"Enter your phone number\" required />\n                    </div>\n                    \n                    {/* Email Input */}\n                    <div className=\"form-group\">\n                        <label htmlFor=\"email\">Email</label>\n                        <input value={email} onChange={(e) => setEmail(e.target.value)} type=\"email\" name=\"email\" id=\"email\" className=\"form-control\" placeholder=\"Enter your email\" required />\n                    </div>\n\n                    {/* Password Input */}\n                    <div className=\"form-group\">\n                        <label htmlFor=\"password\">Password</label>\n                        <input value={password} onChange={(e) => setPassword(e.target.value)} type=\"password\" name=\"password\" id=\"password\" className=\"form-control\" placeholder=\"Enter your password\" required />\n                    </div>\n\n                    {/* Display API errors here */}\n                    {showerr && <div className=\"err-msg\">{showerr}</div>}\n\n                    <div className=\"btn-group\">\n                        <button type=\"submit\" className=\"btn-submit\">Submit</button>\n                        <button type=\"reset\" className=\"btn-reset\">Reset</button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n}\n\n// Export the \"SignUp\" component\nexport default SignUp;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}