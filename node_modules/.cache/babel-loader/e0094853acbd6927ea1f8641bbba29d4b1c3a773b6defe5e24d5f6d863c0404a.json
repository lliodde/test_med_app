{"ast":null,"code":"import _objectSpread from\"/home/project/test_med_app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import Popup from'reactjs-popup';import ReviewForm from'../ReviewForm/ReviewForm';import'./Reviews.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Reviews=()=>{const[appointments,setAppointments]=useState([]);const[reviewed,setReviewed]=useState({});useEffect(()=>{const savedAppointment=sessionStorage.getItem('bookedAppointment');if(savedAppointment){setAppointments([JSON.parse(savedAppointment)]);}},[]);const handleReviewSubmit=appointmentId=>{setReviewed(prev=>_objectSpread(_objectSpread({},prev),{},{[appointmentId]:true}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"reviews-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reviews\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Provide feedback for your past consultations.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"reviews-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Serial Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Doctor Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Doctor Speciality\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Provide Feedback\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Review Given\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:appointments.length>0?appointments.map((app,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsxs(\"td\",{children:[\"Dr. \",app.doctor.name]}),/*#__PURE__*/_jsx(\"td\",{children:app.doctor.specialty}),/*#__PURE__*/_jsx(\"td\",{children:!reviewed[app.id]?/*#__PURE__*/_jsx(Popup,{trigger:/*#__PURE__*/_jsx(\"button\",{className:\"provide-review-btn\",children:\"Click Here\"}),modal:true,nested:true,children:close=>/*#__PURE__*/_jsxs(\"div\",{className:\"modal-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-modal-btn\",onClick:close,children:\"\\xD7\"}),/*#__PURE__*/_jsx(ReviewForm,{doctorName:app.doctor.name,onSubmit:()=>{handleReviewSubmit(app.id);close();}})]})}):/*#__PURE__*/_jsx(\"span\",{children:\"Thank you!\"})}),/*#__PURE__*/_jsx(\"td\",{className:reviewed[app.id]?'reviewed-yes':'reviewed-no',children:reviewed[app.id]?'Yes':'No'})]},app.id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",children:\"You have no past appointments to review.\"})})})]})})]});};export default Reviews;","map":{"version":3,"names":["React","useState","useEffect","Popup","ReviewForm","jsx","_jsx","jsxs","_jsxs","Reviews","appointments","setAppointments","reviewed","setReviewed","savedAppointment","sessionStorage","getItem","JSON","parse","handleReviewSubmit","appointmentId","prev","_objectSpread","className","children","length","map","app","index","doctor","name","specialty","id","trigger","modal","nested","close","onClick","doctorName","onSubmit","colSpan"],"sources":["/home/project/test_med_app/src/Components/Reviews/Reviews.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Popup from 'reactjs-popup';\nimport ReviewForm from '../ReviewForm/ReviewForm';\nimport './Reviews.css';\n\nconst Reviews = () => {\n    const [appointments, setAppointments] = useState([]);\n    const [reviewed, setReviewed] = useState({});\n\n    useEffect(() => {\n        const savedAppointment = sessionStorage.getItem('bookedAppointment');\n        if (savedAppointment) {\n            setAppointments([JSON.parse(savedAppointment)]);\n        }\n    }, []);\n\n    const handleReviewSubmit = (appointmentId) => {\n        setReviewed(prev => ({ ...prev, [appointmentId]: true }));\n    };\n\n    return (\n        <div className=\"reviews-container\">\n            <h2>Reviews</h2>\n            <p>Provide feedback for your past consultations.</p>\n            <div className=\"reviews-table-container\">\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Serial Number</th>\n                            <th>Doctor Name</th>\n                            <th>Doctor Speciality</th>\n                            <th>Provide Feedback</th>\n                            <th>Review Given</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {appointments.length > 0 ? appointments.map((app, index) => (\n                            <tr key={app.id}>\n                                <td>{index + 1}</td>\n                                <td>Dr. {app.doctor.name}</td>\n                                <td>{app.doctor.specialty}</td>\n                                <td>\n                                    {!reviewed[app.id] ? (\n                                        <Popup\n                                            trigger={<button className=\"provide-review-btn\">Click Here</button>}\n                                            modal\n                                            nested\n                                        >\n                                            {(close) => (\n                                                <div className=\"modal-container\">\n                                                    <button className=\"close-modal-btn\" onClick={close}>&times;</button>\n                                                    <ReviewForm\n                                                        doctorName={app.doctor.name}\n                                                        onSubmit={() => {\n                                                            handleReviewSubmit(app.id);\n                                                            close();\n                                                        }}\n                                                    />\n                                                </div>\n                                            )}\n                                        </Popup>\n                                    ) : (\n                                      <span>Thank you!</span>\n                                    )}\n                                </td>\n                                <td className={reviewed[app.id] ? 'reviewed-yes' : 'reviewed-no'}>\n                                    {reviewed[app.id] ? 'Yes' : 'No'}\n                                </td>\n                            </tr>\n                        )) : (\n                            <tr>\n                                <td colSpan=\"5\">You have no past appointments to review.</td>\n                            </tr>\n                        )}\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n};\n\nexport default Reviews;"],"mappings":"+GAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,eAAe,CACjC,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvB,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CAClB,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACW,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,CAAC,CAAC,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAY,gBAAgB,CAAGC,cAAc,CAACC,OAAO,CAAC,mBAAmB,CAAC,CACpE,GAAIF,gBAAgB,CAAE,CAClBH,eAAe,CAAC,CAACM,IAAI,CAACC,KAAK,CAACJ,gBAAgB,CAAC,CAAC,CAAC,CACnD,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAK,kBAAkB,CAAIC,aAAa,EAAK,CAC1CP,WAAW,CAACQ,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE,CAACD,aAAa,EAAG,IAAI,EAAG,CAAC,CAC7D,CAAC,CAED,mBACIZ,KAAA,QAAKe,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAC9BlB,IAAA,OAAAkB,QAAA,CAAI,SAAO,CAAI,CAAC,cAChBlB,IAAA,MAAAkB,QAAA,CAAG,+CAA6C,CAAG,CAAC,cACpDlB,IAAA,QAAKiB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,cACpChB,KAAA,UAAAgB,QAAA,eACIlB,IAAA,UAAAkB,QAAA,cACIhB,KAAA,OAAAgB,QAAA,eACIlB,IAAA,OAAAkB,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBlB,IAAA,OAAAkB,QAAA,CAAI,aAAW,CAAI,CAAC,cACpBlB,IAAA,OAAAkB,QAAA,CAAI,mBAAiB,CAAI,CAAC,cAC1BlB,IAAA,OAAAkB,QAAA,CAAI,kBAAgB,CAAI,CAAC,cACzBlB,IAAA,OAAAkB,QAAA,CAAI,cAAY,CAAI,CAAC,EACrB,CAAC,CACF,CAAC,cACRlB,IAAA,UAAAkB,QAAA,CACKd,YAAY,CAACe,MAAM,CAAG,CAAC,CAAGf,YAAY,CAACgB,GAAG,CAAC,CAACC,GAAG,CAAEC,KAAK,gBACnDpB,KAAA,OAAAgB,QAAA,eACIlB,IAAA,OAAAkB,QAAA,CAAKI,KAAK,CAAG,CAAC,CAAK,CAAC,cACpBpB,KAAA,OAAAgB,QAAA,EAAI,MAAI,CAACG,GAAG,CAACE,MAAM,CAACC,IAAI,EAAK,CAAC,cAC9BxB,IAAA,OAAAkB,QAAA,CAAKG,GAAG,CAACE,MAAM,CAACE,SAAS,CAAK,CAAC,cAC/BzB,IAAA,OAAAkB,QAAA,CACK,CAACZ,QAAQ,CAACe,GAAG,CAACK,EAAE,CAAC,cACd1B,IAAA,CAACH,KAAK,EACF8B,OAAO,cAAE3B,IAAA,WAAQiB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,YAAU,CAAQ,CAAE,CACpEU,KAAK,MACLC,MAAM,MAAAX,QAAA,CAEJY,KAAK,eACH5B,KAAA,QAAKe,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC5BlB,IAAA,WAAQiB,SAAS,CAAC,iBAAiB,CAACc,OAAO,CAAED,KAAM,CAAAZ,QAAA,CAAC,MAAO,CAAQ,CAAC,cACpElB,IAAA,CAACF,UAAU,EACPkC,UAAU,CAAEX,GAAG,CAACE,MAAM,CAACC,IAAK,CAC5BS,QAAQ,CAAEA,CAAA,GAAM,CACZpB,kBAAkB,CAACQ,GAAG,CAACK,EAAE,CAAC,CAC1BI,KAAK,CAAC,CAAC,CACX,CAAE,CACL,CAAC,EACD,CACR,CACE,CAAC,cAEV9B,IAAA,SAAAkB,QAAA,CAAM,YAAU,CAAM,CACvB,CACD,CAAC,cACLlB,IAAA,OAAIiB,SAAS,CAAEX,QAAQ,CAACe,GAAG,CAACK,EAAE,CAAC,CAAG,cAAc,CAAG,aAAc,CAAAR,QAAA,CAC5DZ,QAAQ,CAACe,GAAG,CAACK,EAAE,CAAC,CAAG,KAAK,CAAG,IAAI,CAChC,CAAC,GA9BAL,GAAG,CAACK,EA+BT,CACP,CAAC,cACE1B,IAAA,OAAAkB,QAAA,cACIlB,IAAA,OAAIkC,OAAO,CAAC,GAAG,CAAAhB,QAAA,CAAC,0CAAwC,CAAI,CAAC,CAC7D,CACP,CACE,CAAC,EACL,CAAC,CACP,CAAC,EACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAf,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}